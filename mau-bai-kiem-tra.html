<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i ki·ªÉm tra M·∫´u</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üìù B√†i ki·ªÉm tra M·∫´u</h1>

        <form id="quiz-form">
            <div class="question" data-question-id="q1">
                <p><strong>C√¢u 1:</strong> Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√† g√¨?</p>
                <label><input type="radio" name="q1" value="a"> A. TP. H·ªì Ch√≠ Minh</label><br>
                <label><input type="radio" name="q1" value="b"> B. ƒê√† N·∫µng</label><br>
                <label><input type="radio" name="q1" value="c"> C. H√† N·ªôi</label><br>
            </div>

            <div class="question" data-question-id="q2">
                <p><strong>C√¢u 2:</strong> 5 x 8 b·∫±ng bao nhi√™u?</p>
                <label><input type="radio" name="q2" value="a"> A. 35</label><br>
                <label><input type="radio" name="q2" value="b"> B. 40</label><br>
                <label><input type="radio" name="q2" value="c"> C. 45</label><br>
            </div>
        </form>

        <button id="submit-btn">N·ªôp b√†i</button>
        <div id="result"></div>

        <div id="review-section" class="hidden">
            <h2>Xem l·∫°i b√†i l√†m</h2>
            <div id="review-content"></div>
        </div>
        
        <a href="index.html" class="back-link">Quay l·∫°i trang ch√≠nh</a>
    </div>

    <script>
        // C·∫¨P NH·∫¨T: Khai b√°o ƒë√°p √°n v√† gi·∫£i th√≠ch
        const correctAnswers = {
            q1: {
                answer: 'c',
                explanation: 'H√† N·ªôi l√† th·ªß ƒë√¥ c·ªßa n∆∞·ªõc C·ªông h√≤a X√£ h·ªôi ch·ªß nghƒ©a Vi·ªát Nam t·ª´ nƒÉm 1976.'
            },
            q2: {
                answer: 'b',
                explanation: 'Ph√©p nh√¢n c∆° b·∫£n: 5 nh√¢n 8 b·∫±ng 40.'
            }
        };

        const submitBtn = document.getElementById('submit-btn');
        const quizForm = document.getElementById('quiz-form');
        const resultEl = document.getElementById('result');
        const reviewSection = document.getElementById('review-section');
        const reviewContent = document.getElementById('review-content');

        submitBtn.addEventListener('click', () => {
            let score = 0;
            const userAnswers = new FormData(quizForm);
            let reviewHTML = '';

            // V√¥ hi·ªáu h√≥a c√°c l·ª±a ch·ªçn sau khi n·ªôp
            quizForm.querySelectorAll('input[type="radio"]').forEach(input => {
                input.disabled = true;
            });
            
            // L·∫∑p qua t·ª´ng c√¢u h·ªèi ƒë·ªÉ ch·∫•m ƒëi·ªÉm v√† t·∫°o ph·∫ßn xem l·∫°i
            for (const questionId in correctAnswers) {
                const questionData = correctAnswers[questionId];
                const userAnswer = userAnswers.get(questionId);
                const questionEl = document.querySelector(`.question[data-question-id="${questionId}"]`);
                const questionText = questionEl.querySelector('p').innerHTML;
                
                reviewHTML += `<div class="review-item">`;
                reviewHTML += `${questionText}`;

                if (userAnswer) {
                    const selectedLabel = questionEl.querySelector(`input[value="${userAnswer}"]`).parentElement;
                    reviewHTML += `<p><strong>B·∫°n ch·ªçn:</strong> ${selectedLabel.textContent}</p>`;

                    if (userAnswer === questionData.answer) {
                        score++;
                        reviewHTML += `<p class="review-correct">‚úÖ Ch√≠nh x√°c</p>`;
                    } else {
                        reviewHTML += `<p class="review-incorrect">‚ùå Sai r·ªìi</p>`;
                    }
                } else {
                    reviewHTML += `<p><strong>B·∫°n ch∆∞a tr·∫£ l·ªùi.</strong></p>`;
                }

                reviewHTML += `<div class="explanation"><strong>Gi·∫£i th√≠ch:</strong> ${questionData.explanation}</div>`;
                reviewHTML += `</div>`;
            }

            const totalQuestions = Object.keys(correctAnswers).length;
            resultEl.innerHTML = `<h3>K·∫øt qu·∫£: B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${score}/${totalQuestions} c√¢u!</h3>`;
            
            // Hi·ªÉn th·ªã ph·∫ßn xem l·∫°i
            reviewContent.innerHTML = reviewHTML;
            reviewSection.classList.remove('hidden');

            submitBtn.disabled = true;
        });
    </script>
</body>
</html>
